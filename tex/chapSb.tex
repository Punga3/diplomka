\chapter{Dense case}\label{chapdense}

\section{$\G_k=\SK_k^{1/2}$}

Now we turn to analyze dense wide sequences in the second order case. In this chapter we assume $F=F_{rud}$ and $G=G_{rud}$. Specifically we will consider the problem of finding a large clique in a graph. 

Generally it is considered a computatinally hard problem to find a large clique in a graph. From complexity theoretical perspective it is an $\NP$-complete problem and thus it is conjectured that is cannot be solved in polynomial time. We first turn to the following wide sequence.

\begin{defi}
Let \[\SK_k^{1/2}=\{(\set{k},E);\text{$E$ consists of exactly one $k/2$-clique}\}.\]
\end{defi}

Limiting inputs to $\SK_k^{1/2}$ makes the problem less complex, because for a vertex $v$ to a part of the biggest clique it is enough that is had nonzero degree. Naturally we want to see whether there is a large clique in $\lim_F^G \SK_n^{1/2}$, every sample has a clique of size $n/2$, but is there a tuple of $F$-verticies witnessing that? 

Here to measure the size of such a clique the second order wide limit  by iteself is not a sufficient object. Instead we need to turn to the underlying arithmetic $K(F,G)$ to find an injective function from some large initial segment into a clique in the graph $\Gamma$. It is not hard to prove the following result.

\begin{thrm}\label{thrmsk1}For every $t>\N$ we have
\[K(\SK_k^{1/2},F,G)\bbl\text{$\Gamma$ has a clique of size $n^{1/t}$}\bbr=\1.\]

\end{thrm}

\begin{proof}(Sketch) We need to analyze the value
\begin{align}
&\bbl(\exists \Lambda)(\forall u)(\forall v)(((u,v \leq n^{1/t})\to\Gamma(\Lambda(u),\Lambda(v)))\land(\Lambda:[n^{1/t}]\hookrightarrow\mathcal{M}))\bbr
\end{align}
which is equal to
\begin{align}
\Lor_\Lambda\Land_u\Land_v\bbl(u\not=v < n^{1/t})\to(\Gamma(\Lambda(u),\Lambda(v))\land\Lambda(u)\not=\Lambda(v))\bbr.
\end{align}
So we want to find some $n^{1/t}$-tuple of trees computing some $\Lambda$ which is injective on $\set{n^{1/t}}$ and its $\set{n^{1/t}}$ range is a clique in $\Gamma$.

We define $(\Lambda_0,\dots,\Lambda_{n^{1/t}-1})$ as follows. The tree $T_0$ computing $\Lambda_0$ inspects all the edges $(u,v)\in\set{n^{1/t}}\times\set{n^{1/t}}$ in some specified order and outputs the first vertex it finds with an edge. The tree $T_i$ computing $\Lambda_i$ extends the previous order to $\set{in^{1/t}}\times\set{in^{1/t}}$ searches it and outputs the $i$-th vertex with an edge. Also every such tree has depth at most $n^{1/t}\cdot n^{1/t}=n^{2/t}=n^{1/(t/2)}$.

One can check that the probability the tree $\Lambda_i$ does not find $i$ vertices with an edge is infinitesimal and therefore it always outputs a vertex in the clique of $\omega$. Moreover, every $\Lambda_i$ outputs the $i$-th element element of the ordering and thus it is injective.
\end{proof}

At first glance the lower bound $n^{1/t}$ for every nonstandard $t$ may seem optimal given the proof method we used, but there is a way to radically improve it. The idea is to partition the set of vertices into many smaller ones and let $\Lambda_i$ search only in the $i$-th set. First we need the following lemmas.

(TODO: Comment notation somewhere especially set and abs)
\begin{lemm}\label{lemmmiss}
Let $S\subseteq \set{n}$ such that $\abs{S}=m > \N$, then
\[\st\left(\Pr_{G\in\G_n}[\text{$S$ contains no vertices in the clique of $G$}]\right)=0.\]
\end{lemm}
\begin{proof}
There are $\binom{n-m}{\floor{\frac{n}{2}}}$ different graphs in $\SK_n^{1/2}$ in which the clique does not intersect $S$. We then bound the probability as
\begin{align}
\frac{\binom{n-m}{\floor{\frac{n}{2}}}}{\binom{n}{\floor{\frac{n}{2}}}}&=\frac{(n-m)!(n-\floor{\frac{n}{2}})!}{(n)!(n-\floor{\frac{n}{2}}-c)!}\\
&=\prod_{i=0}^{m-1}\frac{(n-i-\floor{\frac{n}{2}})}{(n-i)}\\
&=\prod_{i=0}^{m-1}\left(1-\frac{\floor{\frac{n}{2}}}{n-i}\right)\\
&\leq \left(1-\frac{\floor{\frac{n}{2}}}{n}\right)^m\\
&\leq \left(1-\frac{\floor{\frac{n}{2}}}{n}\right)^{n \cdot \frac{m}{n}}\\
&\leq e^{-\floor{\frac{n}{2}}\frac{m}{n}}.
\end{align}
But $\floor{\frac{n}{2}} \frac{m}{n}$ is infinite therefore the bound is infinitesimal.
\end{proof}

\begin{lemm}
For every $v\in\set{n}$ there exists a tree $T_v$ such that
\[\st\left(\Pr_{\omega\in\Omega}[(v,T_v(\omega))\in E_{\omega}|\text{$v$ is in the clique}]\right)=1.\]
\end{lemm}
\begin{proof}
Let $T_v$ be a tree which inspects the edges $(v,i)$ for $i\in\set{n^{1/t}}$ and $t>\N$, if it finds one it outputs $i$ or else it fails and outputs 0. By Lemma \ref{lemmmiss} we have that only infinitesimal number of graphs have their clique not intersect $\set{n^{1/t}}$ so $T_v$ succeeds on all but infinitesimally small portion of $\Omega$.
\end{proof}

\begin{crll}
Let $S_0,\dots,S_{a-1}\subseteq\set{n}$ sets of size $a\in \M$ for $i\in \M$ then
\[\Pr_{\omega\in\Omega}\left[\bigcup_{i=0}^{a-1}[\text{$S_i$ contains no vertices in the clique of $\omega$}]\right]\leq a\cdot e^{-\floor{\frac{n}{2}}\frac{m}{n}}.\]

\end{crll}

Now we are ready to improve on Theorem \ref{thrmsk1}.

\begin{thrm}
Let $m$ infinitesimal, then
\[K(\SK_k^{1/2},F,G)\bbl\text{$\Gamma$ has a clique of size $\floor{n/m}$}\bbr=\1.\]
\end{thrm}
\begin{proof}
Partition 
\end{proof}
