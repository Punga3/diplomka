\chapter{General theory}\label{chapgeneraltheory}
\section{$\mathcal{G}_k=\EDGE_k$}
The first and simplest wide sequence we will consider of is the class of graphs with exactly one edge. We put
\[\EDGE_k:=\{\text{$(\set{k},E); \abs{E}=1$}\},\]
and one can check that this is indeed a wide sequence because $\abs{\EDGE_k}=\binom{k}{2}$ which tends to infinity as $k$ does.

Now every graph $G\in\EDGE_k$ has an edge. How does this reflect in the $F_{rud}$ wide limit? The naive guess could be that there should also be an edge but another view lets us see this should not be the case. The limit encompasses the procedure of randomly sampling an exponentially large graph and then inspecting a subexponential part of its edges. In the pseudofinite case this means that we search for one edge in the nonstandard set of vertices but only search through infinitesimally small portion and so we should almost always fail.

This is exactly how we prove in the following theorem.

\begin{thrm}\label{thrmedge}
We will prove that \[\lim_{F_{rud}}\EDGE_n\bbl(\exists x)(\exists y)\Gamma(x,y)\bbr=\textbf{0}.\]
\end{thrm}
\begin{proof}
If any two trees $T_\alpha$ and $T_\beta$ computing potential witnesses $\alpha,\beta$ of the formula $\Gamma(x,y)$ on some subset of $\Omega$ we can combine then into one tree that outputs an edge one the same subsets $\Omega$, so we can just analyze the case where the witnesses are computed by the same tree. Let $T\in \T_{rud}$ be a tree of depth $n^{1/t}$, for some $t>\mathbb{N}$, that outputs a pair of vertices.


Start from the root of $T$ and always choose the path that corresponds to the nonexistence of an edge. At the end we obtain some answer, that gives us a set of at most $2 \cdot n^{1/t}+2$ vertices the tree inspected or outputed. Now we can find at least: 
\begin{align}
\binom{n-2n^{1/t}-2}{2}&=\frac{(n-2n^{1/t}-2)(n-2n^{1/t}-3)}{2}
\end{align}
different $\omega\in\Omega$ such that $T(\omega)$ is not an edge in $\omega$. 

The probability that any of those graphs is sampled is
\begin{align}
\frac{\binom{n-2n^{1/t}-2}{2}}{\abs{\mathcal{G}_k}}&=\frac{(n-2n^{1/t}-2)(n-2n^{1/t}-3)}{n(n-1)}\\
&=\left(1-\frac{2n^{1/t}-2}{n}\right)\cdot\left(1-\frac{2n^{1/t}-2}{n-1}\right)\\
&\geq \left(1-\frac{2n^{1/t}-2}{n-1}\right)^2\\
&\geq 1-\frac{4n^{1/t}-4}{n-1}.
\end{align}
And one can clearly see that $\st(1-\frac{4n^{1/t}-4}{n-1})=1$. This proves that the boolean value we are considering is $\textbf{0}$.
\end{proof}

\section{Sparse $\mathcal{G}_k$}

One can see that in Theorem \ref{thrmedge} the exact shape of graphs in $\mathcal{G}_k$ does not play a crucial role. If $\mathcal{G}_k$ consisted of all graphs on $k$ vertices containing say exactly one triangle, or any other fixed subgraph of constant size, and no other edges, we would still find that the non-existence is valid in the $F_{rud}$ wide limit.

A more general case would be to consider a family of graphs in which there is an infinitesimally small chance that two independent uniformly random vertices have an edge between. However, this is not sufficient.

\begin{exam}
Let $\mathcal{G}_k$ consist of those graphs on the vertex-set $k$ which contains the edge $E(0,1)$ and then has exactly one other edge. As $k$ increases, the fraction of edges gets smaller than any standard positive fraction. But
\[\bbl(\exists x)(\exists y)\Gamma(x,y)\bbr=\1,\]
as witnessed by $x$ being the constant $0$ and $y$ the constant $1$ both of which are computable by a $\T_{rud}$ tree of depth $0$.
\end{exam}

One can see that having distinguished vertices can result in the edge being found even in the sparse case. We want to distinguish from this situation by considering the sequences $\mathcal{G}_k$ satisfying the following natural definition.

\begin{defi}
We say that $\{\mathcal{G}_k\}_{k=0}^\infty$ is \textbf{isomorphism closed}, if there is $k_0$ such that for every $k>k_0$ if we have that $G_1\in\mathcal{G}_k$, $V_{G_2}=\set{g_k}$ and $G_1\cong G_2$ then $G_2\in\mathcal{G}_k$.
\end{defi}


\begin{thrm}\label{thrmsparse}
Let an isomorphism closed $\mathcal{G}_k$ have the following property. There is a sequence $\{b_k\}_{k}$ and for big enough $k$, a uniformly sampled $2$-element $\{u,v\}\subseteq g_k$ and every $G\in\mathcal{G}_k$ we have
\[\Pr[E_G(u,v)]\leq b_k,\]
and some $k_0$ such that $\lim_{k\to\infty}k^{1/k_0}b_k = 0.$ Then

\[\lim_{F_{rud}}\bbl(\exists x)(\exists y)\Gamma(x,y)\bbr=\0.\]
\end{thrm}
\begin{proof}
Let us define the number $c_{u,v}:=\abs{\{G\in\mathcal{G}_k; E_G(u,v)\}}$, which is the number of graphs $G$ in $\mathcal{G}_k$ satisfying $E_G(u,v)$. Of course $c_{u,u}=0$ for every $u$.

\vspace{0.5em}
\textbf{Claim:} Let $u\neq v,u'\neq v'$ be vertices, then $c_{u,v}=c_{u',v'}$.\\
\textit{proof of claim:} Let $\rho:=(u\:u')(v\:v')$ be a permutation with cycles $(u\:u')$ and $(v\:v')$. We can let $\rho$ act on $\mathcal{G}_k$ by sending $G$ to a graph $\rho(G)$ which renames the edges coordinate-wise.

The fact that $\mathcal{G}_k$ is isomorphism closed implies that $\rho$ restricts to a bijection:
\[\rho':\{G\in\mathcal{G}_k;E_G(u,v), \lnot E_G(u',v')\}\to \{G\in\mathcal{G}_k;E_G(u',v'),\lnot E_G(u,v)\}\]
which proves the claim. \qed
\vspace{0.5em}

Now we define a matrix with entries
\[a_{G,\{u,v\}}:=\begin{cases}1&E_G(u,v)\\0&\text{otherwise}\end{cases}\]
where the rows are indexed by one of $\abs{\mathcal{G}_k}$ many graphs in $\mathcal{G}_k$ and the columns are indexed by the $\frac{k(k-1)}{2}$ many $2$-element sets of numbers in $k$. We take any distinct vertices $u,v$ and define $p:=\Pr_{G\in \mathcal{G}_k}[E_G(u,v)]=\frac{c_{u,v}}{\abs{\mathcal{G}_k}},$ by the claim the choice of $u,v$ does not matter.

The assumption from the statement is equivalent to the equality 
\[\sum_{\{u,v\}}a_{G,\{u,v\}}\leq \frac{k(k-1)}{2}b_k\] 
for every $G$. We combine this with the claim and the definition of $p$ to get
\begin{align}
\frac{k(k-1)}{2}\abs{\mathcal{G}_k}p&=\sum_{\{u,v\}}\sum_{G\in\mathcal{G}_k}a_{G,\{u,v\}}\\
&=\sum_{G\in\mathcal{G}_k}\sum_{\{u,v\}}a_{G,\{u,v\}}\\
&\leq \abs{\mathcal{G}_k}\frac{k(k-1)}{2}b_k
\end{align}
which implies
\[p\leq b_k.\]

Now let $k:=n$ and let $T\in F_{tree}$ be a tree of depth $n^{1/t}$ for some $t>\mathbb{N}$, where every leaf of $T$ is labeled by some edge. Walk down the tree $T$ from the root by answering negatively to every edge, which gives us a set $E_T$ of all edges $T$ inspected or outputted and $\abs{E_T}\leq n^{1/t}+1$.

Now we just need to prove that the probability that $T$ finds an edge is infinitesimally small. This is enough to prove the theorem, since the trees computing any two witnesses for $x$ and $y$ in the statement can be combined to construct $T$ and if any tree $T$ succeeds with only infinitesimally small probability, no random vertices can witness an edge on a set of non-zero measure.

We use the fact that $p\leq b_n$ to derive 
\begin{align}
\Pr_{G\in\mathcal{G}_n}[T\text{ finds an edge}]&\leq \sum_{\{u,v\}\in E_T} \Pr_{G\in \mathcal{G}_n}[E_G(u,v)]\\
&=\sum_{\{u,v\}\in E_T} \frac{c_{u,v}}{\abs{\mathcal{G}_n}}\\
&\leq\sum_{\{u,v\}\in E_T} p\\
&=(n^{1/t}+1)p\\
&\leq(n^{1/t}+1)b_k\\
&\leq n^{1/k_0}b_k\\
&\approx 0,
\end{align}
which proves the theorem.
\end{proof}

The assumption $\lim_{k\to \infty} k^{1/k_0}b_k=0$ for some $k_0$ may seem unintuitive at first. However, it precisely captures what is ``too sparse" for the trees in $\T_{rud}$. The following example shows that without the assumption the theorem fails.

\begin{exam}\label{examsparseedge}
Let $\mathcal{G}_k$ consist of all graphs on the vertex set $\set{k}$ with precisely $\lceil\frac{k(k-1)}{2\log k}\rceil$ edges.

Then we claim that
\[\bbl(\exists x)(\exists y)\Gamma(x,y)\bbr=\1.\]

Let $\alpha$ and $\beta$ be vertices computed by the tree of the same shape which inspects a set of any $n^{1/t}$ distinct edges for some $t>\mathbb{N}$. If it finds an edge we define $\alpha$ and $\beta$ in any way so that they are the distinct vertices incidental with this edge. Otherwise we let $\alpha(\omega)=\beta(\omega)=0$.

Let $T$ be a tree of the same shape, that computes the pair $\{\alpha,\beta\}$ then we can compute the probability where such a tree fails as the fraction of all graphs which have no edges that $T$ inspects. Let $m=\binom{n}{2}$. We get

\begin{align}
\Pr_{G\in\mathbb{G}_n}[T\text{ fails}]&=\frac{\binom{m-n^{1/t}}{\ceil{ \frac{n(n-1)}{2\log n}} }}{\binom{m}{\ceil{ \frac{n(n-1)}{2\log n}}}}\\
&=\frac{\frac{(m-n^{1/t})!}{\ceil{\frac{n(n-1)}{2\log n}} ! (m-\ceil{ \frac{n(n-1)}{2\log n}}-n^{1/t})!}}{\frac{m!}{\lceil \frac{n(n-1)}{2\log n}\rceil!(m-\ceil{\frac{n(n-1)}{2\log n}})!}}\\
&=\frac{(m-n^{1/t})!(m-\ceil{ \frac{n(n-1)}{2\log n}})!}{m!(m-\ceil{\frac{n(n-1)}{2\log n}}-n^{1/t})!}\\
&=\prod_{i=0}^{n^{1/t}-1}\frac{m-\ceil{\frac{n(n-1)}{2}}-i}{m-i}\\
&\leq\left(1-\frac{\ceil{\frac{n(n-1)}{2\log n}}}{\frac{n(n-1)}{2}}\right)^{n^{1/t}}\\
&\leq\left(1-\frac{\ceil{\frac{n(n-1)}{2\log n}}}{\frac{n(n-1)}{2}}\right)^{n^{1/t}}\\
&\leq\left(1-\frac{1}{\log n}\right)^{n^{1/t}}
\end{align}

And for any standard $k$ we have
\begin{align}
\left(1-\frac{1}{\log n}\right)^{n^{1/t}}&\leq\left(1-\frac{1}{\log n}\right)^{k\cdot \log n}\\
&\leq (e^{-\frac{1}{\ln 2}})^k.
\end{align}

So $\st(\Pr_{G\in\mathcal{G}_n}[T\text{ fails}])=0$ and we get 
\begin{align}
\mu(\bbl(\exists x)(\exists y)\Gamma(x,y)) \bbr &\geq \mu(\bbl \Gamma(\alpha,\beta)\bbr)\\
&=\st(1-\Pr_{G\in\mathbb{G}_n}[T\text{ fails}])\\
&=1.
\end{align}
\end{exam}

\section{Dense $\G_k$}

Let us now consider how the density of a specific kind of substructure in the wide sequence corresponds to that substructure existing in the wide limit. The following theorem presents a sufficient condition for nonexistance to be invalid. Furthermore, this condition holds generally for all $F$ which contain all constants.

\begin{thrm}\label{thrmexists}
Let $F$ contain all constants, $\G_k$ be a wide sequence and let $\varphi_0(\overline x)$ be an open $\{E\}$-formula such that
\[\lim_{k\to\infty}\Pr_{\substack{G\in\mathcal{G}_k\\\overline a \in \set{g_k}^l}}(G\models\varphi_0(\overline a))\geq p.\]
Then $\mu(\bbl(\exists x)\varphi_0(x)\bbr)\geq p.$
\end{thrm}

\begin{proof}
We define a matrix with components 
\[C_{G,\overline a}=\begin{cases}1&G\models\varphi_0(\overline a)\\0&\text{otherwise}.\end{cases}\]

By overspill in $\M$ we have that
\[\st\left (\frac{1}{\abs{\G_n}g_k^l}\sum_{G\in\G_n}\sum_{\overline a \in \set{g_k}^l}C_{G,\overline \alpha}\right )\geq p.\]

We claim that there is one $\overline a$ such that $\st(\Pr_{G\in\G_k}(G\models\varphi_0(\overline a)))\geq p$. Assume for contradiction, that for all $\overline a$ we have $\frac{1}{\abs{\G_n}}\sum_{G\in \G_n}<p$. Then
\begin{align}
\frac{1}{\abs{\G_n}g_k^l}\sum_{G\in\G_n}\sum_{\overline a \in \set{g_n}^l}C_{G,\overline \alpha}&=
\frac{1}{g_k^l}\sum_{\overline a\in\set{g_n}^l}\frac{1}{\abs{\G_n}}\sum_{G\in\G_n}C_{G,\overline \alpha}\\
&< p,
\end{align}
which is a contradiction after taking the standard part of each value.

Therefore there is a tuple $\overline a$ such that $\mu(\bbl\varphi_0(\overline\alpha)\bbr)\geq p$, let $\gamma_{\overline a}$ be the constant function $\omega \mapsto \overline \alpha$ in $F$ and
\begin{align}
\bbl\varphi\bbr&=\Lor_{\overline\alpha}\bbl\varphi_0(\overline\alpha)\bbr\\
&\geq \bbl\varphi_0(\overline \gamma_{\overline a})\bbr.
\end{align}
By taking $\mu$ of both sides we prove the theorem.
\end{proof}

\begin{exam}
Recall Example \ref{examsparseedge} it is not hard to notice that for a $\G_k$ which consists of graphs with exactly $\floor{\frac{k(k-1)}{2\log k}}$ edges we have
\[\lim_{k\to\infty}\Pr_{\substack{G\in \G_k}\\\overline (u,v) \in \set{k}^2}[\lnot E(u,v)]=1,\]
by the theorem it follows that we have
\[\lim_{F}\G_n\bbl(\exists x)(\exists y)\lnot E(x,y)\bbr=\1.\]
\end{exam}

We follow with an application of the theorem on a more complex wide sequence.

\begin{exam}\label{examskhalf}
Consider
\begin{align*}
\SK_k^{1/2}&:=\{(\set{k},E);\text{$E$ has a clique of size $\floor{k/2}$}, \abs{E}=\abs{E_{K_{\floor{k/2}}}}\},
\end{align*}
a wide sequence of all graphs with exactly one $\floor{k/2}$ clique and no other edges. One can check that for any $\{E\}$-formula $\varphi_l(\overline x)$ stating that $\overline x$ forms a clique of size $l$ we claim that 
\[\lim_{k\to\infty} \Pr_{\substack{G\in\SK_k^{1/2}\\\overline a \in \set{k}^l}}[G\models \varphi^\Gamma(\overline a)]\geq(1/2)^l.\]
First notice that we can compute the probability for fixed $\overline a$ because $\SK_k^{1/2}$ is isomorphism closed. So we have
\begin{align}
\Pr_{G\in\SK_k^{1/2}}[G\models \varphi_l^\Gamma(\overline a)]&=\frac{\binom{k-l}{\floor{k/2}-l}}{\binom{k}{\floor{k/2}}}\\
&=\prod_{i=0}^l\frac{k-\floor{k/2}-i}{k-i}\\
&=\prod_{i=0}^l\left(1-\frac{\floor{k/2}}{k-i}\right)\\
&\geq\prod_{i=0}^l\left(1-\frac{k/2}{k-i}\right)\\
&\geq\left(1-\frac{k/2}{k-l}\right)^l\\
&\geq\left(1-\frac{1}{2(1-l/k)}\right)^l,
\end{align}
and since $l\in \N$, so from the point of view of standard analysis a constant, we can just check that
\begin{align}
\lim_{k\to\infty}1-l/k=1.
\end{align}

This proves that for any $F$ that contains all constants we have
\[\lim_{F}\SK_{n}^{1/2}\bbl(\exists \overline x)\varphi_l(\overline x)\bbr>\0.\]
\end{exam}

Now the following theorem describes sufficient conditions for a universal sentence to hold in the wide limit for \textit{any} $F$.

\begin{thrm}\label{thrmuni}
Let $F$ by any vertex family, let $\G_k$ a wide sequence and let $\varphi_0(\overline x)$ be an open $\{E\}$-sentence, such that
\[\lim_{k\to\infty}\Pr_{G\in\mathcal{G}_k}[G\models\varphi]=1.\]

Then $\lim_F \G_n \bbl(\forall \overline x)\varphi_0^{\Gamma}(\overline x)\bbr=\1.$


\end{thrm}

\begin{proof}
We have that $\st(\Pr_{G\in\mathcal{G}_n}[G\models\varphi])=1$ and therefore $\bbl\varphi_0(\overline\alpha)\bbr=\1$ for each tuple $\overline\alpha$ in $F$. Therefore
\begin{align}
\bbl\varphi\bbr&=\Land_{\overline\alpha}\bbl\varphi_0(\overline\alpha)\bbr\\
&=\Land_{\overline\alpha}\1\\
&=\1.
\end{align}
\end{proof}

\begin{exam}
Let us define
\begin{align}
\G_k^{A}&:=\{(\set{k},E);\abs{E}=2\},\\
\G_k^{B}&:=\{(\set{k},E);\abs{E}=(k\cdot(k-1)/2)-3\},\\
\G_k&:=\G_k^{A}\cup\G_k^{B},
\end{align}
and let 
\[\varphi_0(a,b,c,d):=\left(\Land_{\substack{x, y\in\{a,b,c,d\}\\\text{$x,y$ distinct}}}(x\not=y)\right)\to\left(\Lor_{\substack{x, y\in\{a,b,c,d\}\\\text{$x,y$ distinct}}}E(x,y)\right),\]
which says that if $a,b,c,d$ are distinct, there is an edge between one of them. The universal closure is valid on all graphs in $\G_k^B$ and none of the graphs in $\G_k^A$. Since $\binom{\binom{n}{2}}{2}/\binom{\binom{n}{2}}{n-3}$ is infinitesimal we have, that $\lim_{k\to\infty} \binom{\binom{k}{2}}{2}/\binom{\binom{k}{2}}{k-3}=0$ we have by Theorem \ref{thrmuni} that $\lim_F \G_n \bbl(\forall a,b,c,d)\varphi_0^\Gamma(a,b,c,d)\bbr=\1$ for any $F$ containing all constants.
\end{exam}

The Theorem \ref{thrmuni} also implies that since all $G\in\G_k$ satisfy that $E_G$ is antireflexive then so does $\lim_{F}\G_n$ and if $E_G$ are all symmetrical then so it the wide limit edge relation $\Gamma$. This combined with Theorem \ref{thrmsparse} proves the following.

\begin{crll}[0-1 law for too sparse $F_{rud}$ sequence]\label{crlltoosparse}
Let $\G_k$ be any wide sequence satisfying the statement of the Theorem \ref{thrmsparse}. Then $\Th(\lim_{F_{rud}})\G_n)$ is the theory of the empty graph and therefore complete. 
\end{crll}

It is natural to ask whether we can weaken the assumption of Theorem \ref{thrmuni} to an assumption analogous to Theorem \ref{thrmexists}. In other words, is
\[\lim_{k\to\infty}\Pr_{\substack{G\in\G_k\\\overline a\in \set{g_k}^l}}[G\models\varphi_0(\overline a)]=1\]
enough to imply $\lim_F\G_n\bbl(\forall x)\varphi_0^\Gamma(\overline x)\bbr=\1$? Unfortunately no, as we can see in the following example.

\begin{exam}Recall Example \ref{examsparseedge} where $\G_k$ consists of all graphs on $\set{k}$ with exactly $\floor{\frac{k(k-2)}{2\log k}}$ edges. One can easily check that
\[\lim_{k\to\infty}\Pr_{\substack{G\in\G_k\\u,v \in \set{k}}}[G\models \lnot E(u,v)]=1,\]
but we proved that $\lim_{F_{rud}}\G_n \bbl(\exists x,y)\Gamma(x,y)\bbr=\1$ in other words we have \[\lim_{F_{rud}}\bbl(\forall x,y)\lnot \Gamma(x,y)\bbr=\0.\]
\end{exam}

\section{$\G_k=\ALL_k$}

Now we return to $F=F_{rud}$ and prove a theorem with a more limited use which however forces the truth value of the existential sentence in the wide limit to be $\1$.

\begin{thrm}\label{mutindfind}
Let $F=F_{rud}$ and let $\varphi_0(x_0,\dots,x_{l-1})$ be an open $\{\Gamma\}$-formula. Furthermore for $0<p\leq 1$, consider subsets $A\subseteq\set{g_k}^l$ with the property that for all for all $\overline a \in A$ we have
\[\Pr_{G\in\mathcal{G}_k}(G\models \varphi_0(\overline a))\geq p\]
and
\[\text{$\{\{G\models\varphi_0(\overline a)\}\subseteq \mathcal{G}_k;\overline a \in A\}$ are mutually independent.}\]
Moreover let $A_k$ be the set with the largest cardinality that has this property.

If $\lim_{k\to\infty} \abs{A_k}=\infty$, then $\bbl(\exists \overline x)\varphi_0(\overline x)\bbr=\1$.
\end{thrm}

\begin{proof}
Let $\overline x = (x_0,\dots,x_{l-1})$. Let $T_{\overline a}$ be a tree of some standard depth $d$, that tests whether $G\models\varphi_0(\overline a)$.

From $\aleph_1$-saturation of $\mathcal{M}$ we have $n'>\mathbb{N}$ many tuples \(\overline a_0,\dots,\overline a_{n'-1}\in A_n\), such that \(\Pr_{G\in\mathcal{G}_k}(G\models\varphi_0(\overline a_i))\geq p\), we can assume $n'<n^{1/t_0}$ for some $t_0>\mathbb{N}$.


For $j\in[l]$ construct a tree $T_j$ inductively as follows: Start with $T_{\overline a_0}$. Replace the label of every accepting leaf by $(\overline a_0)_j$ and remove the label of every rejecting leaf. Call this tree $T_j^0$. Assume we have already constructed $T_j^{m}$. Construct $T_j^{i+1}$ by appending $T_{\overline a_{m+1}}$ to every undefined leaf, relabeling every satisfied leaf to $(\overline a_{i+1})_j$ and removing labels from every rejecting leaf. We will define $T_j$ as $T_j^{n'}$ with undefined leaves labeled by $0$. (This can be done because all instances of induction are in $\Th(\mathbb{N})$.) Note that $\dpt(T_j)=d\cdot n' < n^{1/t}$ for some $t>\mathbb{N}$. 

Call $\overline \alpha$ the tuple computed by $T_0,\dots,T_{l-1}$. We will prove that the probability of $\overline \alpha$ being a witness to $\varphi_0(\overline x)$ is 1. For each $\overline a_i$ we have, that the probability of $G\models\varphi_0(\overline a_i)$ is at least $p$. The mutual independence of ${\{G\models\varphi_0(\overline a_i);i\in[n']\}}$ and the construction of $T_j$ implies that $T_j$ has a probability of $(1-p)^{n'}$ of failing, which is obviously infinitesimal.
\end{proof}

We now use this theorem to characterize the theory of another wide limit. We denote
\[\ALL_k=\{G \text{ undirected graph, }V_G=\set{k}\}.\]

Note that if we consider an open $\{E\}$-formula $\varphi(\overline x)$ and convert it to DNF, we get a disjunction of conjunctions. Each such conjunction says which first order literals should be satisfied on the variables $\overline x$, the following theorem is proved for conjunctions of literals. By the fact that $\bbl\dots\bbr$ commutes with disjunctions, we can find out a value of any existential sentence.

\begin{thrm}[Everything exists]
Let $\varphi(\overline x,\overline y)=\Land_{i=0}^{m-1}\psi_i(\overline x,\overline y)\land \Land_{i=0}^{l-1}\vartheta_i(\overline y)$, where $\psi_i,\vartheta_i$ are basic formulas and $\psi_i$ are not of the form $(y_i=y_j)^b$, $E(y_i,y_j)^b$, $x_i\not= x_i$, $\Gamma(x_i,x_i)$, $b\in\{0,1\}$ such that
\begin{itemize}
\item each $\psi_i$ are not of the form $(y_i=y_j)^b,E(y_i,y_j)^b,x_i\not = x_i, \Gamma(x_i,x_i)$ for $b\in\{0,1\}$
\item if $\psi_i$ is of the form $(x_i=z)^b$ for $z$ in $\overline x$ or $\overline y$ then no other $\psi_j$ is of the form $(x_i=z)^{1-b}$ or $(z=x_i)^{1-b}$
\item if $\psi_i$ is of the form $\Gamma(x_i,z)^b$ for $z$ in $\overline x$ or $\overline y$ then no other $\psi_j$ is of the form $\Gamma(x_i,z)^{1-b}$ or $\Gamma(z,x_i)^{1-b}$.
\end{itemize}

If $\overline \beta$ is a tuple of vertices computed by $F_{rud}$ of the same length as $\overline y$ then \[\lim_{F_{rud}}\G_n\bbl(\exists \overline x)\varphi_0(\overline x,\overline \beta)\bbr=\lim_{F_{rud}}\G_n\bbl\Land_{i=0}^{l-1}\vartheta_i(\overline \beta)\bbr,\] specifically if $l=0$ then

\[\lim_{F_{rud}}\G_n\bbl(\exists \overline x)\varphi_0(\overline x,\overline \beta)\bbr=\1.\]
\end{thrm}
\begin{proof} We will construct one tree $T$ computing the whole tuple of witnesses $\overline \alpha$, such a construction can be straightforwardly split into a tuple of trees with each computing the specific element.

First we concatenate all the trees used to compute $\overline \beta$. At each leaf we can now proceed knowing the value of $\overline \beta$ at the specific $\omega\in\Omega$. Now we simply construct a tree as in Theorem \ref{mutindfind} but searching only over edges not checked previously and only to fulfill each $\psi_i$. Since we assume $\mathcal{G}_k=\text{ALL}_k$ both of the conditions of the theorem are satisfied. So by analogous argument, we have a tree that finds a witness for all of the $\psi_i(\overline x,\overline \beta)$ with probability infinitesimally close to 1.

Therefore
\begin{align}
\bbl(\exists \overline x)\varphi^\Gamma(\overline x,\overline \beta)\bbr&=\bbl(\exists \overline x)\Land_{i=0}^{m-1}\psi_i(\overline x,\overline \beta)\bbr \land \bbl\Land_{i=0}^{l-1}\vartheta_i(\overline \beta)\bbr\\
&=\bbl\Land_{i=0}^{l-1}\vartheta_i(\overline \beta)\bbr.
\end{align}
\end{proof}

The statement of the theorem was rather technical, but we can now use it to prove the following corollaries.

\begin{crll}For each $\varphi(\overline x)$ that is not a contradiction in the theory of graphs we have that $\bbl(\exists \overline x)\varphi^\Gamma(\overline x)\bbr=1.$
\end{crll}
\begin{proof}
The conditions on $\psi_i$ are exactly saying that the conjunction is not a contradiction. Every other formula can be rewritten as a disjunction of such conjunctions and by the theorem we can satisfy at least one of them.
\end{proof}
\begin{crll}\label{crllev2}
For each $\varphi(\overline x,\overline y)$ that is not falsifiable by $\overline y$ in the theory of graphs we have that $\bbl(\forall \overline y)(\exists \overline x)\varphi^\Gamma(\overline x)\bbr=\1$.
\end{crll}
\begin{proof}
No $\overline \beta$ can falsify $(\exists \overline x)\varphi(\overline x,\overline \beta)$, this means we can invoke the theorem on one of the non-falsifiable disjuncts.
\end{proof}

\begin{thrm}\label{thrmall}
The theory \[\Th(\lim_{F_{rud}}\ALL_n)\] is the theory of the Rado graph and therefore complete.
\end{thrm}
\begin{proof}
In \cite{gaifman1964rado} it was proved that the theory of the Rado graph is axiomatized by the theory of undirected graphs and the sentences $E_{i,j}$ which say that if we have a set $A$ of $i$ distinct vertices and a set $B$ of $j$ distinct vertices such that $A\cap B=\varnothing$, then there is a vertex $v$ which has an edge with all vertices from $A$ and with no vertices from $B$.

Each $E_{i,j}$ satisfies the statement of Corollary \ref{crllev2} and because it is also a complete theory, we have proved the theorem.
\end{proof}

\begin{crll}(0-1 law for $\ALL_k$)
For every $\{E\}$-sentence $\varphi$ we have that
\[\lim_{F_{rud}}\ALL_n\bbl\varphi^\Gamma\bbr\in\{\0,\1\}.\]
\end{crll}


The wide sequence $\ALL_k$ is maximal in the sense that for every $\G_k$ with $g_k=k$ we have that $\G_{k}\subseteq \ALL_{k}$. Since we proved 0-1 law for $\ALL_k$ we can ask whether this tells us anything about the subobjects of $\ALL_k$ since they consist in some sense of all other wide sequences. From now on we no longer assume $\G_k$ denotes $\ALL_k$.

\begin{defi}\label{defiportion}
Let $\G_k$ be a wide sequence. We say that $\G_k'$ is a \textbf{portion} of $\G_k$ if we have $\G_k'\subseteq \G_k$ for all $k$ big enough which we denote $\G_k'\leq \G_k$. We say it is a \textbf{large portion} if we have
\[p:=\lim_{k\to\infty}\frac{\abs{\G_k'}}{\abs{\G_k}}>0,\]
which we denote $\G_k' \leqp \G_k$. Moreover, if the limits tends to $1$ we call $\G_k'$ a \textbf{major portion}.
\end{defi}

By elementary probability theory we can prove the following.

\begin{lemm}\label{lemmpordown}
Let $\G_k'\leqp \G_k$ be a wide sequence and its large portion, let $A\subseteq \G_n$ be an event in $\M$ and let $A'=\G_n'\cap A$. Then we have
\[\st\left(\Pr_{G\in\G_n}[A]\right)=1 \Rightarrow \st\left(\Pr_{G\in\G_n'}[A']\right)=1.\]
\end{lemm}

\begin{lemm}\label{lemmporup}
Let $\G_k'\leq \G_k$ be a wide sequence and its major portion, let $A\subseteq \G_n$ be an event in $\M$ and let $A'=\G_n'\cap A$. Then we have
\[\st\left(\Pr_{G\in\G_n}[A]\right)=1 \Leftrightarrow \st\left(\Pr_{G\in\G_n'}[A']\right)=1.\]
\end{lemm}


\begin{crll}\label{crlltoobig}
Let $\G_k$ be a wide sequence such that 
\[\lim_{k\to\infty}\frac{\abs{\G_k}}{2^{\binom{g_k}{2}}}>0\] then $\Th(\lim_{F_{rud}}\G_n)$ is the theory of Rado graph.
\end{crll}
\begin{proof}
The condition on the limit assures that $\G_k\leqp \ALL_{g_k}$. Which, by Lemma \ref{lemmpordown}, is enough to replicate the proof for $\ALL_{g_k}$.
\end{proof}

We will use a similar argument in Chapter \ref{chapsparse} to instead prove something about a wide sequence by first proving it for its portion.

\section{Isomorphism closed categorical $\mathcal{G}_k$}

Take an isomorphism closed wide sequence $\G_k$, what are its isomorphism closed portions? It turns out it is easy to classify them because any such portion can be constructed as a union of those wide sequences which always have one isomorphism type of each $\G_k$ and those precisely match the isomorphism closed sequences which satisfy the following property.

\begin{defi}\label{lemmisocat}
We say that $\{\mathcal{G}_k\}_{k=0}^\infty$ is \textbf{categorical} if there is $k_0$ such that for every $k>k_0$ if we have $G_1,G_2\in\mathcal{G}_k$ then $G_1\cong G_2$. For a categorical wide sequence $\{G_k\}_{k=0}^\infty$ we denote $G_k$ the lexicographically minimal element of $\mathcal{G}_k$.
\end{defi}

One can see isomorphism closed $\G_k$ as the natural wide sequences and categorical isomorphism closed wide sequences as their building blocks. The concept of isomorphism closed categorical wide sequences can be already limiting the form of the sequence. We have the following lemma which limits sizes of $\G_k$ to specific values.

\begin{lemm}
Let $\{\mathcal{G}_k\}_{k=0}^\infty$ be categorical and isomorphism closed, then for large enough $k$
\[\abs{\mathcal{G}_k}=\frac{g_k!}{\abs{\Aut(G_k)}}.\]
\end{lemm}
\begin{proof}
Every $\rho\in S_{g_k}$ defines an isomorphism $\rho:G_k\to\rho(G_k)$, where $\rho(G_k)$ is a graph obtained from $G_k$ by renaming every edge coordinate wise by $\rho$.

{}
\textbf{Claim:} For any $\rho,\pi\in S_{g_k}$:
\[\rho(G_k)=\pi(G_k)\iff\exists \tau\in\Aut(G_k):\rho\circ\tau=\pi.\]
\textit{Proof of claim.} ``$\Rightarrow$" Let $\rho(G_k)=\pi(G_k)$, therefore $\tau:=\rho^{-1}\circ\pi\in\Aut(G_k)$ and $\rho\circ\tau=\rho\circ\rho^{-1}\circ\pi=\pi.$

``$\Leftarrow$" Let $\rho\circ\tau=\pi$. Then $\pi(G_k)=\rho(\tau(G_k))=\rho(G_k).$ \qedhere

Notice that the $\tau$ in the statement of the claim is uniquely determined by $\rho^{-1}\circ\pi$. Therefore if we defined a quotient set $S_{g_k}/\sim$ with $\rho\sim\pi\iff\rho(G_k)=\pi(G_k)$, then $\abs{S_{g_k}/\sim}=\frac{g_k!}{\abs{\Aut(G_k)}}$.

The Lemma follows from noticing that if we start with $\{G_k\}$ and then we build $\mathcal{G}_k$ by finding isomorphic graphs on the vertex set $\set{g_k}$, we can only do so by trying different permutation from $S_{g_k}$ and these permutations find the same graph if and only if they are in the same $\sim$-class. Therefore there is a bijection between $S_{g_k}/\sim$ and $\mathcal{G}_k$. \qed
\end{proof}

So far we did not encounter an isomorphism closed wide sequence $\G_k$ and a $\{E\}$-sentence $\varphi$ for which we proved $\0<\lim_{F_{rud}}\G_n\bbl\varphi^\Gamma\bbr<\1$. One can use isomorphism closed categorical wide sequences to construct such a wide sequence.
\begin{exam}
Let
\begin{align}
\nEDGE_k&:=\{(\set{k},E);\abs{E}=(k(k-1)/2)-1\}\\
\G_k&:=\EDGE_k\cup\nEDGE_k,
\end{align}

Then one can see that $\mu(\lim_{F_{rud}}\G_n\bbl(\exists x)(\exists y)\Gamma(x,y)\bbr)=\frac{1}{2}$.
\end{exam}

However, each $\EDGE_k$ and $\nEDGE_k$ have complete theories. So natural follow up to this question is whether 0-1 law holds for all isomorphism closed categorical wide sequences. 

Theorem \ref{thrmsparse}, Corollary \ref{crlltoobig} and Lemma \ref{lemmisocat} already give some conditions on what any counterexample would have to satisfy. However, we did not find any nor did we rule out its existence. 

\begin{ques}
Is there a isomorphism closed categorical wide sequence $\G_k$ and an $\{E\}$-sentence $\varphi$ such that
\[\0<\lim_{F_{rud}}\G_n\bbl\varphi^\Gamma\bbr<\1?\]
\end{ques}
